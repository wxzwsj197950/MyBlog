---
layout:     post
title:      "Leetcode 319. Bulb Switcher"
subtitle:   "Leetcode 319"
date:       2016-01-18 12:00:00
author:     "Wuxx"
header-img: "img/post-bg-01.jpg"
---
<div style="text-align:center">
	<span style="font-size:32px"><strong>Leetcode 319. Bulb Switcher</strong></span>
</div>
<div style="text-align:left">
	<strong><span style="font-size:18px">&nbsp; &nbsp; 一开始用模拟的方法（两个循环。。。简单粗暴）结果超时。。。然后看了下大神们提交的答案。。。终于明白了Tag里面脑筋急转弯的含义。。。智商还是不够用啊。</span></strong>
</div>
<div style="text-align:left">
	<strong><span style="font-size:18px">看题目：</span></strong>
</div>
<div style="text-align:left">
	<strong><span style="font-size:18px"></span></strong>
	<div class="question-title" style="padding-bottom:10px; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Arial,sans-serif; font-size:14px; line-height:20px; overflow:hidden">
		<h3 style="font-family:inherit; font-weight:500; line-height:1.1; color:inherit; margin-top:0px; margin-bottom:10px; font-size:24px; display:inline-block">
			319. Bulb Switcher
		</h3>
	</div>
	<div class="row col-md-12" style="margin-right:-15px; margin-left:-15px; position:relative; min-height:1px; padding-right:15px; padding-left:15px; float:left; width:1140px; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Arial,sans-serif; font-size:14px; line-height:20px">
		<span class="total-ac text-info" style="color:rgb(49,112,143); font-size:13px; vertical-align:text-bottom">Total Accepted:&nbsp;<span style="font-weight:700">6085</span></span>&nbsp;<span class="total-submit text-info" style="color:rgb(49,112,143); margin-left:15px; font-size:13px; vertical-align:text-bottom">Total Submissions:&nbsp;<span style="font-weight:700">15641</span></span>&nbsp;<span class="total-submit text-info" style="color:rgb(49,112,143); margin-left:15px; font-size:13px; vertical-align:text-bottom">Difficulty:&nbsp;<span style="font-weight:700">Medium</span></span>
	</div>
	<div class="row" style="margin-right:-15px; margin-left:-15px; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Arial,sans-serif; font-size:14px; line-height:20px">
		<div class="col-md-12" style="position:relative; min-height:1px; padding-right:15px; padding-left:15px; float:left; width:1170px">
			<div class="question-content" style="margin-left:20px; margin-top:20px; margin-bottom:5px; line-height:30px; border-left-width:3px; border-left-style:solid; border-left-color:rgb(221,221,221); padding-left:20px; padding-bottom:2px">
				<p style="margin-top:0px; margin-bottom:10px">
				</p>
				<p style="margin-top:0px; margin-bottom:10px">
					There are&nbsp;<span style="">n</span>&nbsp;bulbs that are initially off. You first turn on all the bulbs. Then, you turn off every second bulb. On the third round, you toggle every third bulb (turning on if it's off or turning off if it's on). For the&nbsp;<span style="">n</span>th round, you only toggle the last bulb. Find how many bulbs are on after&nbsp;<span style="">n</span>&nbsp;rounds.
				</p>
				<p style="margin-top:0px; margin-bottom:10px">
					<span style="font-weight:700">Example:</span><br style="" />
					
				</p>
				<pre style="overflow:auto; font-family:Menlo,Monaco,Consolas,'Courier New',monospace; font-size:13px; padding:9.5px; margin-top:0px; margin-bottom:10px; line-height:1.42857; word-break:break-all; word-wrap:break-word; border:1px solid rgb(204,204,204); background-color:rgb(245,245,245)">Given <span style="">n</span> = 3. <br style="" />
At first, the three bulbs are <span style="font-weight:700">[off, off, off]</span>.
After first round, the three bulbs are <span style="font-weight:700">[on, on, on]</span>.
After second round, the three bulbs are <span style="font-weight:700">[on, off, on]</span>.
After third round, the three bulbs are <span style="font-weight:700">[on, off, off]</span>. <br style="" />
So you should return 1, because there is only one bulb is on.
</pre>
				<p style="margin-top:0px; margin-bottom:10px">
				</p>
				<div style="">
					<p style="margin-top:0px; margin-bottom:10px">
						看了分析就会恍然大悟，一个灯它被按的次数偶数时它最后是关的，当<span style="color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Arial,sans-serif; font-size:14px; line-height:30px">被按的次数</span>是奇数时，它最后是开的。而第k轮按序号是k的倍数的灯，
					</p>
					<p style="margin-top:0px; margin-bottom:10px">
						所以我们就是求灯的序号能被多少个数整除，也就是它会被按下多少次。但是还没完，一个数，比如12，它能被3整除，12/3=4，所以它也能被4整除。12/2和12/6同理。
					</p>
					<p style="margin-top:0px; margin-bottom:10px">
						也就是说3和4,2和6这样能整除12的数是成对出现的，唯一的例外是这个数是个平方数，比如9，9/3=3，这个3就只有一个，所以最后的结论是一个数
					</p>
					<p style="margin-top:0px; margin-bottom:10px">
						如果是平方数，能整除它的数有奇数个，否则总是有偶数个数能整除它。所以一个灯的序号是平方数时它会被按奇数次，最后是亮的。
					</p>
					<p style="margin-top:0px; margin-bottom:10px">
						所以求最后亮的灯数只有一句代码：
					</p>
					<p style="margin-top:0px; margin-bottom:10px">
						&nbsp; &nbsp; &nbsp;return (int)Math.sqrt(n);//n是灯的总数
					</p>
				</div>
			</div>
		</div>
	</div>
	<br />
	
</div>